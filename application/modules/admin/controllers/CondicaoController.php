<?phpclass Admin_CondicaoController extends Zend_Controller_Action {    public function indexAction() {        $Condicao = new Admin_Model_CondicaoPagamento();        $result = $Condicao->Listar();        $this->view->dados = $result;    }    public function adicionarAction() {        $form = new TCS_Form_FormCondicao();        $ModelCondicao = new Admin_Model_CondicaoPagamento();        $data = $this->_request->getPost();        if ($this->_request->isPost() && $form->isValid($data)) {            $ModelCondicao->insert($data);            //Adiciona a mensagem de sucesso            $this->_helper->FlashMessenger->addMessage(array('sucesso' => 'Adicionado com sucesso'));            $this->redirect($_SERVER['HTTP_REFERER']);        }        $this->view->form = $form;        $this->view->controller = $this->_request->getControllerName();    }    public function editarAction() {        $id = (int) $this->_request->getParam('id');        $form = new TCS_Form_FormCondicao();        $ModelCondicao = new Admin_Model_CondicaoPagamento();        if ($id) {            $values = $ModelCondicao->GetDados($id);            $form->populate($values);            if ($this->_request->isPost() && $form->isValid($_POST)) {                $ModelCondicao->insert($_POST);                $this->_helper->FlashMessenger->addMessage(array('sucesso' => 'Editado com sucesso'));                $this->_helper->redirector('index');            }            $this->view->form = $form;            $this->view->controller = $this->_request->getControllerName();            $this->render('adicionar');        } else {            $this->_helper->redirector('index');        }    }    public function excluirAction() {        $id = (int) $this->_request->getParam('id');        $ModelCondicao = new Admin_Model_CondicaoPagamento();        $ModelCondicao->delete("id = " . $id);        //Adiciona a mensagem de sucesso        $this->_helper->FlashMessenger->addMessage(array('sucesso' => 'Excluido com sucesso'));        $this->_redirect('admin/condicao');    }}