<?phpclass Admin_FormaController extends Zend_Controller_Action {    public function indexAction() {        $forma = new Admin_Model_FormaPagamento();        $result = $forma->Listar();        $this->view->dados = $result;    }    public function adicionarAction() {        $form = new TCS_Form_FormForma();        $ModelForma = new Admin_Model_FormaPagamento();        $data = $this->_request->getPost();        if ($this->_request->isPost() && $form->isValid($data)) {            $ModelForma->insert($data);            //Adiciona a mensagem de sucesso            $this->_helper->FlashMessenger->addMessage(array('sucesso' => 'Adicionado com sucesso'));            $this->redirect($_SERVER['HTTP_REFERER']);        }        $this->view->form = $form;    }    public function editarAction() {        $id = (int) $this->_request->getParam('id');        $form = new TCS_Form_FormForma();        $ModelForma = new Admin_Model_FormaPagamento();        if ($id) {            $values = $ModelForma->GetDados($id);            $form->populate($values);            if ($this->_request->isPost() && $form->isValid($_POST)) {                $ModelForma->insert($_POST);                $this->_helper->FlashMessenger->addMessage(array('sucesso' => 'Editado com sucesso'));                $this->_helper->redirector('index');            }            $this->view->form = $form;            $this->view->controller = $this->_request->getControllerName();            $this->render('adicionar');        } else {            $this->_helper->redirector('index');        }    }    public function excluirAction() {        $id = (int) $this->_request->getParam('id');        $ModelForma = new Admin_Model_FormaPagamento();        $ModelForma->delete("id = " . $id);        //Adiciona a mensagem de sucesso        $this->_helper->FlashMessenger->addMessage(array('sucesso' => 'Excluido com sucesso'));        $this->_redirect('admin/forma');    }}